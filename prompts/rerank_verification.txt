You are verifying if a video segment matches a user query.
Be STRICT in your evaluation. Only give high scores if ALL constraints are satisfied.

QUERY: "{query}"

SEGMENT DESCRIPTION:
{description}

SEGMENT METADATA:
- People: {face_names}
- Location: {location}
- Actions: {actions}
- Visible Text: {visible_text}

SCORING RULES:
- Score 0.9-1.0: ALL query constraints are clearly visible/present
- Score 0.7-0.89: Most constraints satisfied, minor elements missing
- Score 0.5-0.69: Some constraints match, significant elements missing
- Score 0.3-0.49: Few constraints match, most elements missing
- Score 0.0-0.29: Does not match the query at all

CONSTRAINT CHECKLIST:
1. People/Characters: Are the mentioned people present? Names must match.
2. Clothing/Colors: Do clothes match the described colors and types exactly?
3. Actions/Activities: Is the described action happening?
4. Location/Setting: Does the scene match the described location?
5. Objects/Text: Are mentioned objects or text visible?
6. Relationships: Are spatial relationships (X next to Y) correct?

Be HARSH - if the query says "yellow skirt" and you see "yellow pants", that's NOT a match.
If a person is mentioned by name and they're not identified, score low.

Return ONLY valid JSON:
{{
  "match_score": 0.0,
  "reasoning": "Step by step explanation of what matches and what doesn't",
  "constraints_checked": ["constraint 1", "constraint 2"],
  "missing": ["constraint that failed"]
}}
